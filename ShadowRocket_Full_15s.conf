#!name=ShawdowRocket_Full_15s
#!desc=By: Quang Khai - Tích hợp Locket 15s Video
# Shadowrocket Configuration - ShawdowRocket_Vip + Locket 15s
# Cập nhật: 12-12-2025
# Bản Quyền Thuộc Về Quang Khai 
# Credit: Quang Khai
# Mã nguồn này đã được fix
# Ai dùng module này nếu gắn trên TikTok hoặc Facebook hãy ghi @QuangKhai để tôn trọng tác giả!
# Tích hợp Locket Gold 15s Video

[General]
bypass-system = true
skip-proxy = *.local, *.crashlytics.com
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12

[Proxy]
# Proxy US cho Locket 15s Video
MyProxy = HTTP, 181.214.239.243, 22488, ewis2068, VXZsgj6495

[Proxy Group]
# Nhóm sử dụng Proxy US cho Locket (để quay video 15s)
Locket_US = select, MyProxy, DIRECT

[Rule]
# ===== YOUTUBE - Chặn quảng cáo UDP =====
AND,((DOMAIN-SUFFIX,googlevideo.com), (PROTOCOL,UDP)),REJECT
AND,((DOMAIN,youtubei.googleapis.com), (PROTOCOL,UDP)),REJECT

# ===== LOCKET qua Proxy US (để quay video 15s) =====
DOMAIN-KEYWORD,locket,Locket_US
DOMAIN-SUFFIX,locket.camera,Locket_US

# RevenueCat (Locket Gold + các app khác)
DOMAIN-SUFFIX,revenuecat.com,Locket_US
DOMAIN,api.revenuecat.com,Locket_US

# ===== APP STORE qua Proxy (cho Locket) =====
DOMAIN-SUFFIX,apps.apple.com,Locket_US
DOMAIN-SUFFIX,itunes.apple.com,Locket_US
DOMAIN-KEYWORD,iosapps.itunes.apple.com,Locket_US
DOMAIN-KEYWORD,apps.itunes.apple.com,Locket_US

# ===== TẤT CẢ APP KHÁC ĐI THẲNG =====
FINAL,DIRECT

[URL Rewrite]
# ===== YOUTUBE - Chặn quảng cáo =====
(^https?://[\w-]+\.googlevideo\.com/(?!dclk_video_ads).+?)&ctier=L(&.+?),ctier,(.+) $1$2$3 302
^https?://[\w-]+\.googlevideo\.com/(?!(dclk_video_ads|videoplayback?)).+&oad _ reject-200
^https?://(www|s)\.youtube\.com/api/stats/ads _ reject-200
^https?://(www|s)\.youtube\.com/(pagead|ptracking) _ reject-200
^https?://s\.youtube\.com/api/stats/qoe\?adcontext _ reject-200

[MITM]
hostname = %APPEND% api.revenuecat.com, buy.itunes.apple.com, api.picsart.com, us-central1-alight-creative.cloudfunctions.net, api.adapty.io, carrotweather.herokuapp.com, lcs-mobile-cops.adobe.io, order.creativeappnow.com, api.mwm-users.com, us-central1-muslim-pro-app.cloudfunctions.net, api.gptkeyboard.app, prod.studysmarter.de, api.qonversion.io, api.blinkist.com, subscription.grammarly.com, api.esound.app, api.purchasely.io, spclient.wg.spotify.com, api-sub.meitu.com, redirector*.googlevideo.com, *.googlevideo.com, www.youtube.com, s.youtube.com, youtubei.googleapis.com, api-mobile.soundcloud.com, photos.adobe.io, api.sandbox.love

[Script]
# ===== LOCKET GOLD 15s =====
# ~ By Vuong2023 & Ohoang7
revenuecat = type=http-response, pattern=^https:\/\/api\.revenuecat\.com\/.+\/(receipts$|subscribers\/[^/]+$), script-path=https://raw.githubusercontent.com/vuong2023/shad/main/js/Locket_Ohoang7.js, requires-body=true, max-size=-1, timeout=60
deleteHeader = type=http-request, pattern=^https:\/\/api\.revenuecat\.com\/.+\/(receipts|subscribers), script-path=https://raw.githubusercontent.com/vuong2023/shad/main/js/deleteHeader.js, timeout=60

# ===== VSCO Premium =====
http-request ^https://api.revenuecat.com/.+/(receipts$|subscribers/?(.*?)*$) script-path=https://raw.githubusercontent.com/quocchienn/Make/refs/heads/crack/VSCO.js, requires-body=true, timeout=5, tag=VSCO

# ===== PICSART Gold =====
http-request https://api.picsart.com/gw-v2/shop/subscription/apple/purchases script-path=https://raw.githubusercontent.com/quocchienn/Make/refs/heads/crack/PicsArt.js, requires-body=true, timeout=5, tag=PicsArt

# ===== ALIGHT MOTION Pro =====
http-response https://us-central1-alight-creative.cloudfunctions.net/getAccountStatusAndLicenses script-path=https://raw.githubusercontent.com/quocchienn/Make/refs/heads/crack/AlightMotion.js, requires-body=true, timeout=5, tag=Alight Motion

# ===== SANDBOX Pixel Art =====
http-response https://api.sandbox.love/accounts/current script-path=https://raw.githubusercontent.com/quocchienn/Make/refs/heads/crack/SandBox.js, requires-body=true, timeout=5, tag=Sandbox Pixel Art

# ===== YOUTUBE Premium (Chặn quảng cáo, Background Play) =====
youtube.response = type=http-response,pattern=^https://youtubei\.googleapis\.com/youtubei/v1/(browse|next|player|search|reel/reel_watch_sequence|guide|account/get_setting|get_watch),requires-body=1,max-size=-1,binary-body-mode=1,engine=script,script-path=https://raw.githubusercontent.com/dhungx/modules-shadowrocket/refs/heads/main/js/Yt/youtube.response.preview.js,argument="{\"lyricLang\":\"{{{ngôn ngữ dịch lời bài hát}}}\",\"captionLang\":\"{{{ngôn ngữ dịch phụ đề}}}\",\"blockUpload\":{{{chặn nút tải lên}}},\"blockImmersive\":{{{chặn nút chọn đoạn}}},\"debug\":{{{kích hoạt chế độ gỡ lỗi}}}}"

# ===== SPOTIFY Premium =====
spotify-json = type=http-request,pattern=^https:\/\/spclient\.wg\.spotify\.com\/(artistview\/v1\/artist|album-entity-view\/v2\/album)\/,requires-body=0,script-path=https://raw.githubusercontent.com/quocchienn/Make/refs/heads/crack/spotify-json.js
spotify-proto = type=http-response,pattern=^https:\/\/spclient\.wg\.spotify\.com\/(bootstrap\/v1\/bootstrap|user-customization-service\/v1\/customize)$,requires-body=1,binary-mode=1,max-size=0,script-path=https://raw.githubusercontent.com/quocchienn/Make/refs/heads/crack/spotify-proto.js,script-update-interval=0

# ===== WINK VIP =====
WinkVipCrack.js=type=http-response,pattern=^https?:\/\/api-sub\.meitu\.com\/v2\/user\/vip_info_by_group\.json,requires-body=1,script-path=https://raw.githubusercontent.com/quocchienn/co_tien_khong/refs/heads/Module/WinkVipCrack.js

# ===== SOUNDCLOUD Go+ =====
SoundCloudGo+=type=http-response,pattern=https://api-mobile.soundcloud.com/configuration/ios,requires-body=1,script-path=https://raw.githubusercontent.com/Marol62926/MarScrpt/main/soundcloud.js

# ===== LIGHTROOM Premium =====
LightRoom=type=http-response,pattern=^https:\/\/photos\.adobe\.io\/v2\/accounts*,requires-body=1,script-path=https://raw.githubusercontent.com/litieyin/AD_VIP/main/Script/lightroom.js

